<!-- src/main/resources/templates/layout/base.html -->
<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head :: head(${title})"></head>

<body class="bg-[#F7F6F2] h-screen flex flex-col">

<header th:if="${showBaseHeader == null || showBaseHeader}"
        class="w-full py-6 text-center shrink-0">
    <h1 class="text-3xl font-bold" th:text="${headerTitle}">ToDoLab</h1>
</header>

<main class="flex-1 w-full max-w-7xl mx-auto overflow-y-auto pb-28">
    <div th:if="${contentView != null}"
         th:replace="~{${contentView} :: content}"></div>

    <div th:if="${contentView == null}"
         th:utext="${body}"></div>
</main>

<!-- 하단탭 + 플로팅버튼 -->
<div th:replace="fragments/ui-footer :: footer(${activeTab})"></div>

<!-- 모달들(등록/상세/성공) -->
<div th:replace="fragments/modals :: modals"></div>

<!-- 외부 라이브러리 -->
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/ko.js"></script>

<!-- 공통 JS (순서 중요) -->
<script src="/js/app-core.js"></script>

<!-- ✅ 카드/뱃지/escapeHtml 등 공통 렌더 유틸 -->
<script src="/js/task-ui.js"></script>

<!-- 모달 -->
<script src="/js/modal-create.js"></script>
<script src="/js/modal-detail.js"></script>

<!-- ✅ week 전용 (week.html 내부 inline script 제거 전제) -->
<script src="/js/week.js"></script>

</body>
</html>
