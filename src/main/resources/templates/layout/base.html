<!-- src/main/resources/templates/layout/base.html -->
<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head(${title})}"></head>

<body class="bg-[#F7F6F2] h-screen flex flex-col">

<header th:if="${showBaseHeader == null || showBaseHeader}"
        class="w-full py-6 text-center shrink-0">
    <h1 class="text-3xl font-bold" th:text="${headerTitle}">ToDoLab</h1>
</header>

<main class="flex-1 w-full max-w-7xl mx-auto overflow-y-auto pb-28">
    <div th:if="${contentView != null}"
         th:replace="~{${contentView} :: content}"></div>

    <div th:if="${contentView == null}"
         th:utext="${body}"></div>
</main>

<!-- 하단탭 + 플로팅버튼 -->
<div th:replace="~{fragments/ui-footer :: footer(${activeTab})}"></div>

<!-- 공용 모달(성공/토스트만) -->
<div th:replace="~{fragments/modals :: modals}"></div>

<!-- ✅ 단일 모달(create/detail/edit) -->
<div th:replace="~{fragments/task-modal :: taskModal}"></div>

<!-- 외부 라이브러리 (쓰고 있으면 유지) -->
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/ko.js"></script>

<!-- 공통 JS -->
<script src="/js/app-core.js"></script>

<!-- ✅ TaskUI (unscheduled/week/today 호환 API + 카드 클릭 위임) -->
<script src="/js/task-ui.js"></script>

<!-- ✅ 단일 모달 컨트롤러 -->
<script src="/js/task-modal.js"></script>

<!-- 페이지 전용 -->
<script src="/js/week.js"></script>
<script src="/js/unscheduled.js"></script>
<script src="/js/today.js"></script>

</body>
</html>
